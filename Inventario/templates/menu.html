{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Dashboard{% endblock %}</title>

  <!-- Incluyendo Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link href="{% static 'Inventario/styles.css' %}" rel="stylesheet"> <!-- Archivo CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Agbalumo:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="d-flex" id="dashboard">
    <!-- Menú Lateral -->
    <div class="sidebar p-3 d-flex flex-column justify-content-between" style="height: 100vh;">
      <div>
        <h2>GLAM FEMENINA</h2>
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="#"><i class="fas fa-tachometer-alt"></i> Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'categorias' %}"><i class="fas fa-tags"></i> Categorías</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="dropdownConfiguracion" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-cogs"></i> Configuración
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdownConfiguracion">
              <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#crearCategoriaModal">Agregar Categoría</a></li>
              <!-- Cambié esto para abrir el modal de agregar producto -->
              <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#agregarProductoModal">Agregar Producto</a></li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="mt-3">
        <a href="#" class="btn btn-rosado-nude w-100"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
      </div>
    </div>

    <!-- Contenido Principal -->
    <div class="content">
      {% block content %}
      {% endblock %}
    </div>
  </div>
<!-- Modal para agregar producto -->
<div class="modal fade" id="agregarProductoModal" tabindex="-1" role="dialog" aria-labelledby="agregarProductoModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="agregarProductoModalLabel">Agregar Producto</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <form method="POST" action="{% url 'agregar_producto' %}" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="modal-body">
                  <div class="form-group">
                      <label for="nombre">Nombre del Producto</label>
                      <input type="text" class="form-control" id="nombre" name="nombre" required>
                  </div>
                  <div class="form-group">
                      <label for="descripcion">Descripción del Producto</label>
                      <textarea class="form-control" id="descripcion" name="descripcion" required></textarea>
                  </div>
                  <div class="form-group">
                      <label for="precio">Precio del Producto</label>
                      <input type="number" class="form-control" id="precio" name="precio" required>
                  </div>
                  <div class="form-group">
                      <label for="id_categoria">Seleccionar Categoría</label>
                      <select class="form-control" id="id_categoria" name="categoria" required>
                          {% for categoria in categorias %}
                              <option value="{{ categoria.id_categoria }}">{{ categoria.nombre }}</option>
                          {% endfor %}
                      </select>
                  </div>
                  <div class="form-group">
                      <label for="stock">Número de Stock</label>
                      <input type="number" class="form-control" id="stock" name="stock" required>
                  </div>
                  <div class="form-group">
                      <label for="disponible">¿Está Disponible?</label>
                      <input type="checkbox" id="disponible" name="disponible" checked>
                  </div>
                  <div class="form-group">
                      <label for="imagen">Imagen del Producto</label>
                      <input type="file" class="form-control-file" id="imagen" name="imagen" accept="image/*">
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                  <button type="submit" class="btn btn-primary">Agregar Producto</button>
              </div>
          </form>
      </div>
  </div>
</div>


<!-- Modal para crear categoría -->
<div class="modal fade" id="crearCategoriaModal" tabindex="-1" role="dialog" aria-labelledby="crearCategoriaModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="crearCategoriaModalLabel">Crear Categoría</h5>
              <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <form method="POST" action="{% url 'crear_categoria' %}">
              {% csrf_token %}
              <div class="modal-body">
                  <div class="form-group">
                      <label for="nombre_categoria">Nombre de la Categoría</label>
                      <input type="text" class="form-control" id="nombre_categoria" name="nombre" required>
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                  <button type="submit" class="btn btn-primary">Crear Categoría</button>
              </div>
          </form>
      </div>
  </div>
</div>

  <!-- Scripts de Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
